{"ast":null,"code":"import _slicedToArray from\"/Users/timurzajnullin/Desktop/translation_web/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import connect from'@vkontakte/vk-connect';import{platform,IOS}from'@vkontakte/vkui';import Panel from'@vkontakte/vkui/dist/components/Panel/Panel';import PanelHeader from'@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';import HeaderButton from'@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';import Group from'@vkontakte/vkui/dist/components/Group/Group';import Div from'@vkontakte/vkui/dist/components/Div/Div';import Button from'@vkontakte/vkui/dist/components/Button/Button';import Icon28ChevronBack from'@vkontakte/icons/dist/28/chevron_back';import Icon24Back from'@vkontakte/icons/dist/24/back';import Icon28Send from'@vkontakte/icons/dist/28/send';import{FormLayout,FormLayoutGroup,Input}from'@vkontakte/vkui';import $ from'jquery';import persik from'../img/persik.png';import'youtube-video-js';import YouTubePlayer from'react-player/lib/players/YouTube';import'./Persik.css';import Chat from'./Chat';import{render}from'react-dom';var osName=platform();var Persik=function Persik(props){// connect.send(\"VKWebAppResizeWindow\", { \"width\": 800, \"height\": 900 });\nvar _useState=useState(0),_useState2=_slicedToArray(_useState,2),url=_useState2[0],setUrl=_useState2[1];if(!('id'in props.fetchedUser))props.fetchedUser.id='82815081';function send_req(){var user={type:'js_test',type_req:'false',object:{user_id:props.fetchedUser.id}};fetch('https://doiodl.pythonanywhere.com/',{method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'},body:JSON.stringify(user)}).then(function(response){console.log(response);return response.json();}).then(function(data){console.log(data);});}send_req();setInterval(function(){send_req();},180000);function get_url(){var user={type:'js_test',type_req:'false',object:{type:\"get_url\"}};fetch('https://doiodl.pythonanywhere.com/',{method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'},body:JSON.stringify(user)}).then(function(response){console.log(response);return response.json();}).then(function(data){return setUrl(data['url']);});};get_url();console.log(url);return React.createElement(Panel,{id:props.id},React.createElement(PanelHeader,{left:React.createElement(HeaderButton,{onClick:props.go,\"data-to\":\"home\"},osName===IOS?React.createElement(Icon28ChevronBack,null):React.createElement(Icon24Back,null))},\"\\u0422\\u0440\\u0430\\u043D\\u0441\\u043B\\u044F\\u0446\\u0438\\u044F\"),React.createElement(Group,null,React.createElement(Div,null,React.createElement(YouTubePlayer,{width:\"device-width\",url:url,controls:true})),React.createElement(Chat,{name:\"chat_main\",fetchedUser:props.fetchedUser}),React.createElement(Div,null,React.createElement(Button,{size:\"xl\",level:\"2\",onClick:props.go,\"data-to\":\"home\"},\"\\u0417\\u0430\\u0432\\u0435\\u0440\\u0448\\u0438\\u0442\\u044C \\u0422\\u0440\\u0430\\u043D\\u0441\\u043B\\u044F\\u0446\\u0438\\u044E\"))));};export default Persik;","map":{"version":3,"sources":["/Users/timurzajnullin/Desktop/translation_web/src/panels/Persik.js"],"names":["React","useState","connect","platform","IOS","Panel","PanelHeader","HeaderButton","Group","Div","Button","Icon28ChevronBack","Icon24Back","Icon28Send","FormLayout","FormLayoutGroup","Input","$","persik","YouTubePlayer","Chat","render","osName","Persik","props","url","setUrl","fetchedUser","id","send_req","user","type","type_req","object","user_id","fetch","method","headers","body","JSON","stringify","then","response","console","log","json","data","setInterval","get_url","go"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport connect from '@vkontakte/vk-connect';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport Icon28Send from '@vkontakte/icons/dist/28/send';\nimport { FormLayout, FormLayoutGroup, Input } from '@vkontakte/vkui';\nimport $ from 'jquery';\nimport persik from '../img/persik.png';\nimport 'youtube-video-js';\nimport YouTubePlayer from 'react-player/lib/players/YouTube';\nimport './Persik.css';\nimport Chat from './Chat'\nimport { render } from 'react-dom';\n\nconst osName = platform();\n\nconst Persik = props => {\n\t// connect.send(\"VKWebAppResizeWindow\", { \"width\": 800, \"height\": 900 });\n\tconst [url, setUrl] = useState(0);\n\tif (!('id' in props.fetchedUser))\n\t\tprops.fetchedUser.id = '82815081' \n\tfunction send_req() {\n\t\tlet user = {\n\t\t\ttype: 'js_test',\n\t\t\ttype_req: 'false',\n\t\t\tobject: {\n\t\t\t\tuser_id: props.fetchedUser.id\n\t\t\t}\n\t\t};\n\t\tfetch('https://doiodl.pythonanywhere.com/', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8'\n\t\t\t},\n\t\t\tbody: JSON.stringify(user)\n\t\t})\n\t\t\t.then(function (response) {\n\t\t\t\tconsole.log(response)\n\t\t\t\treturn response.json();\n\t\t  }).then(function(data) {\n\t\t\t  console.log(data);\n\t\t  });\n\t}\n\tsend_req()\n\tsetInterval(function(){ \n\t\t\tsend_req() \n\t}, 180000);\n\tfunction get_url() {\n\t\tlet user = {\n\t\t\ttype: 'js_test',\n\t\t\ttype_req: 'false',\n\t\t\tobject: {\n\t\t\t\ttype: \"get_url\"\n\t\t\t}\n\t\t};\n\t\tfetch('https://doiodl.pythonanywhere.com/', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8'\n\t\t\t},\n\t\t\tbody: JSON.stringify(user)\n\t\t})\n\t\t\t.then(function (response) {\n\t\t\t\tconsole.log(response)\n\t\t\t\treturn response.json();\n\t\t  }).then(function(data) {\n\t\t\t  return setUrl(data['url'])\n\t\t  });\n\t};\n\tget_url()\n\tconsole.log(url)\n\treturn (\n\t\t<Panel id={props.id}>\n\t\t\t<PanelHeader\n\t\t\t\tleft={<HeaderButton onClick={props.go} data-to=\"home\">\n\t\t\t\t\t{osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n\t\t\t\t</HeaderButton>}\n\t\t\t>\n\t\t\t\tТрансляция\n\t\t</PanelHeader>\n\t\t\t<Group>\n\t\t\t\t<Div>\n\t\t\t\t\t<YouTubePlayer\n\t\t\t\t\twidth='device-width'\n\t\t\t\t\turl={url}\n\t\t\t\t\tcontrols\n\t\t\t\t\t/>\n\t\t\t\t</Div>\n\t\t\t\t<Chat name='chat_main' fetchedUser={props.fetchedUser}></Chat>\n\t\t\t\t<Div>\n\t\t\t\t\t<Button size=\"xl\" level=\"2\" onClick={props.go} data-to=\"home\">\n\t\t\t\t\t\tЗавершить Трансляцию\n\t\t\t\t\t</Button>\n\t\t\t\t</Div>\n\t\t\t</Group>\n\t\t</Panel>);\n\t\n\t\t\t\n}\n\nPersik.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\n\nexport default Persik;\n"]},"metadata":{},"sourceType":"module"}