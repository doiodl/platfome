{"ast":null,"code":"import _classCallCheck from\"/Users/timurzajnullin/Desktop/translation_web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/timurzajnullin/Desktop/translation_web/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/timurzajnullin/Desktop/translation_web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/timurzajnullin/Desktop/translation_web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/timurzajnullin/Desktop/translation_web/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import connect from'@vkontakte/vk-connect';import{platform,IOS}from'@vkontakte/vkui';import Panel from'@vkontakte/vkui/dist/components/Panel/Panel';import PanelHeader from'@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';import HeaderButton from'@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';import Group from'@vkontakte/vkui/dist/components/Group/Group';import Div from'@vkontakte/vkui/dist/components/Div/Div';import Textarea from'@vkontakte/vkui/dist/components/Textarea/Textarea';import Button from'@vkontakte/vkui/dist/components/Button/Button';import Icon28ChevronBack from'@vkontakte/icons/dist/28/chevron_back';import Icon24Back from'@vkontakte/icons/dist/24/back';import $ from'jquery';import persik from'../img/persik.png';import'youtube-video-js';import YouTubePlayer from'react-player/lib/players/YouTube';import'./Persik.css';import Icon28Send from'@vkontakte/icons/dist/28/send';import{FormLayout,FormLayoutGroup,Input}from'@vkontakte/vkui';var Chat=/*#__PURE__*/function(_Component){_inherits(Chat,_Component);function Chat(props){var _this;_classCallCheck(this,Chat);_this=_possibleConstructorReturn(this,_getPrototypeOf(Chat).call(this,props));_this.state={massive:[{\"name\":\"Timur\",\"msg\":\"I EBAL STAHAT\",\"date\":\"14:05\"},{\"name\":\"Artem\",\"msg\":\"I EBAL TELKY\",\"date\":\"14:05\"},{\"name\":\"Slava\",\"msg\":\"I EBAL VSEH\",\"date\":\"14:05\"}],cur_n:0};return _this;}_createClass(Chat,[{key:\"but\",value:function but(e){e.preventDefault();console.log('По ссылке кликнули.');// $(\".pole\").append(\"<spand>TEXT</spand></br>\");\n}},{key:\"tick\",value:function tick(){var user={type:'chat',object:{type:\"get\",current_msg:this.state.cur_n}};fetch('https://doiodl.pythonanywhere.com/',{method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'},body:JSON.stringify(user)}).then(function(response){return response.json();}).then(function(data){console.log(data);});var m=this.state.massive;this.setState({massive:m.concat({\"name\":\"Brustik\",\"msg\":\"I SOSAL VSEH\",\"date\":\"14:05\"})});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;setInterval(function(){return _this2.tick();},3000);}},{key:\"render\",value:function render(){return React.createElement(Group,{name:\"chats\"},React.createElement(Div,{className:\"pole\",style:{height:\"50px\"}},this.state.massive.map(function(element,i){return React.createElement(\"div\",null,\" \",element.name,\" \");// return $(\".pole\").append(\"<spand></spand>\");\n})),React.createElement(Div,{class:\"chat-input\"},React.createElement(FormLayout,{method:\"post\",id:\"chat-form\"},React.createElement(Textarea,{type:\"text\",id:\"message-text\",class:\"chat-form__input\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\"}),React.createElement(Button,{before:React.createElement(Icon28Send,null),class:\"chat-form__submit\",onClick:this.but}))));}}]);return Chat;}(Component);export default Chat;","map":{"version":3,"sources":["/Users/timurzajnullin/Desktop/translation_web/src/panels/Chat.js"],"names":["React","Component","connect","platform","IOS","Panel","PanelHeader","HeaderButton","Group","Div","Textarea","Button","Icon28ChevronBack","Icon24Back","$","persik","YouTubePlayer","Icon28Send","FormLayout","FormLayoutGroup","Input","Chat","props","state","massive","cur_n","e","preventDefault","console","log","user","type","object","current_msg","fetch","method","headers","body","JSON","stringify","then","response","json","data","m","setState","concat","setInterval","tick","height","map","element","i","name","but"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\nimport PropTypes from 'prop-types';\nimport connect from '@vkontakte/vk-connect';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Textarea from '@vkontakte/vkui/dist/components/Textarea/Textarea';\n\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport $ from 'jquery';\nimport persik from '../img/persik.png';\nimport 'youtube-video-js';\nimport YouTubePlayer from 'react-player/lib/players/YouTube';\nimport './Persik.css';\nimport Icon28Send from '@vkontakte/icons/dist/28/send';\nimport { FormLayout, FormLayoutGroup, Input } from '@vkontakte/vkui';\n\nclass Chat extends Component {\n    constructor(props) {\n        super(props);\n      this.state = { massive: [{\"name\": \"Timur\",\"msg\":\"I EBAL STAHAT\",\"date\":\"14:05\"}, {\"name\": \"Artem\", \"msg\":\"I EBAL TELKY\", \"date\":\"14:05\"},{\"name\": \"Slava\", \"msg\":\"I EBAL VSEH\", \"date\":\"14:05\"}], cur_n: 0};\n    }\n  \n  but(e) {\n      e.preventDefault();\n    console.log('По ссылке кликнули.');\n    // $(\".pole\").append(\"<spand>TEXT</spand></br>\");\n    }\n  tick()\n  {\n    let user = {\n\t\t\ttype: 'chat',\n      object: {\n        type: \"get\",\n        current_msg: this.state.cur_n\n\t\t\t}\n\t\t};\n\t\tfetch('https://doiodl.pythonanywhere.com/', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8'\n\t\t\t},\n\t\t\tbody: JSON.stringify(user)\n      })\n      .then(function (response) {\n        return response.json();\n      })\n\t\t\t.then(function(data) {\n\t\t\t  console.log(data);\n\t\t  });\n    var m = this.state.massive;\n    this.setState({\n      massive: m.concat({\"name\": \"Brustik\", \"msg\":\"I SOSAL VSEH\", \"date\":\"14:05\"})\n    });\n  }\n  componentDidMount() {\n    setInterval(() => this.tick(), 3000);\n  }\n    render(){\n        return (\n          <Group name=\"chats\">\n            <Div className=\"pole\" style={{ height: \"50px\" }}>\n              {this.state.massive.map((element, i) => {\n                return <div> {element.name} </div>;\n                // return $(\".pole\").append(\"<spand></spand>\");\n              })}\n            </Div> \n            <Div class='chat-input'>\n              <FormLayout method='post' id='chat-form'>\n                <Textarea type='text' id='message-text' class='chat-form__input' placeholder='Введите сообщение'></Textarea>\n                <Button before={<Icon28Send />} class='chat-form__submit' onClick={this.but} ></Button>\n              </FormLayout>\n\t\t\t\t    </Div>\n          </Group>\n          \n    \n        );\n    }\n    \n\n}\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}