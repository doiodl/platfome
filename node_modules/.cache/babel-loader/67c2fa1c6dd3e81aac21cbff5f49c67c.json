{"ast":null,"code":"var _jsxFileName = \"/Users/timurzajnullin/Desktop/translation_web/src/panels/Chat.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport connect from '@vkontakte/vk-connect';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Textarea from '@vkontakte/vkui/dist/components/Textarea/Textarea';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport $ from 'jquery';\nimport persik from '../img/persik.png';\nimport 'youtube-video-js';\nimport YouTubePlayer from 'react-player/lib/players/YouTube';\nimport './Persik.css';\nimport Icon28Send from '@vkontakte/icons/dist/28/send';\nimport { FormLayout, FormLayoutGroup, Input } from '@vkontakte/vkui';\n\nclass Chat extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      massive: [{\n        \"name\": \"Timur\",\n        \"msg\": \"I EBAL STAHAT\",\n        \"date\": \"14:05\"\n      }, {\n        \"name\": \"Artem\",\n        \"msg\": \"I EBAL TELKY\",\n        \"date\": \"14:05\"\n      }, {\n        \"name\": \"Slava\",\n        \"msg\": \"I EBAL VSEH\",\n        \"date\": \"14:05\"\n      }],\n      cur_n: 0\n    };\n  }\n\n  but(e) {\n    e.preventDefault();\n    console.log('По ссылке кликнули.'); // $(\".pole\").append(\"<spand>TEXT</spand></br>\");\n  }\n\n  tick() {\n    let user = {\n      type: 'chat',\n      object: {\n        type: \"get\",\n        current_msg: this.state.cur_n\n      }\n    };\n    fetch('https://doiodl.pythonanywhere.com/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify(user)\n    }).then(function (response) {\n      console.log(response);\n      return response.json();\n    }).then(function (data) {\n      console.log(data);\n    });\n    var m = this.state.massive;\n    this.setState({\n      massive: m.concat({\n        \"name\": \"Brustik\",\n        \"msg\": \"I SOSAL VSEH\",\n        \"date\": \"14:05\"\n      })\n    });\n  }\n\n  componentDidMount() {\n    setInterval(() => this.tick(), 3000);\n  }\n\n  render() {\n    return React.createElement(Group, {\n      name: \"chats\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Div, {\n      className: \"pole\",\n      style: {\n        height: \"50px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, this.state.massive.map((element, i) => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \" \", element.name, \" \"); // return $(\".pole\").append(\"<spand></spand>\");\n    })), React.createElement(Div, {\n      class: \"chat-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(FormLayout, {\n      method: \"post\",\n      id: \"chat-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(Textarea, {\n      type: \"text\",\n      id: \"message-text\",\n      class: \"chat-form__input\",\n      placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(Button, {\n      before: React.createElement(Icon28Send, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }),\n      class: \"chat-form__submit\",\n      onClick: this.but,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Chat;","map":{"version":3,"sources":["/Users/timurzajnullin/Desktop/translation_web/src/panels/Chat.js"],"names":["React","Component","PropTypes","connect","platform","IOS","Panel","PanelHeader","HeaderButton","Group","Div","Textarea","Button","Icon28ChevronBack","Icon24Back","$","persik","YouTubePlayer","Icon28Send","FormLayout","FormLayoutGroup","Input","Chat","constructor","props","state","massive","cur_n","but","e","preventDefault","console","log","tick","user","type","object","current_msg","fetch","method","headers","body","JSON","stringify","then","response","json","data","m","setState","concat","componentDidMount","setInterval","render","height","map","element","i","name"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\nimport PropTypes from 'prop-types';\nimport connect from '@vkontakte/vk-connect';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Textarea from '@vkontakte/vkui/dist/components/Textarea/Textarea';\n\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport $ from 'jquery';\nimport persik from '../img/persik.png';\nimport 'youtube-video-js';\nimport YouTubePlayer from 'react-player/lib/players/YouTube';\nimport './Persik.css';\nimport Icon28Send from '@vkontakte/icons/dist/28/send';\nimport { FormLayout, FormLayoutGroup, Input } from '@vkontakte/vkui';\n\nclass Chat extends Component {\n    constructor(props) {\n        super(props);\n      this.state = { massive: [{\"name\": \"Timur\",\"msg\":\"I EBAL STAHAT\",\"date\":\"14:05\"}, {\"name\": \"Artem\", \"msg\":\"I EBAL TELKY\", \"date\":\"14:05\"},{\"name\": \"Slava\", \"msg\":\"I EBAL VSEH\", \"date\":\"14:05\"}], cur_n: 0};\n    }\n  \n  but(e) {\n      e.preventDefault();\n    console.log('По ссылке кликнули.');\n    // $(\".pole\").append(\"<spand>TEXT</spand></br>\");\n    }\n  tick()\n  {\n    let user = {\n\t\t\ttype: 'chat',\n      object: {\n        type: \"get\",\n        current_msg: this.state.cur_n\n\t\t\t}\n\t\t};\n\t\tfetch('https://doiodl.pythonanywhere.com/', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8'\n\t\t\t},\n\t\t\tbody: JSON.stringify(user)\n    })\n    .then(function (response) {\n      console.log(response)\n      return response.json();\n    })\n\t\t\t.then(function(data) {\n\t\t\t  console.log(data);\n\t\t  });\n    var m = this.state.massive;\n    this.setState({\n      massive: m.concat({\"name\": \"Brustik\", \"msg\":\"I SOSAL VSEH\", \"date\":\"14:05\"})\n    });\n  }\n  componentDidMount() {\n    setInterval(() => this.tick(), 3000);\n  }\n    render(){\n        return (\n          <Group name=\"chats\">\n            <Div className=\"pole\" style={{ height: \"50px\" }}>\n              {this.state.massive.map((element, i) => {\n                return <div> {element.name} </div>;\n                // return $(\".pole\").append(\"<spand></spand>\");\n              })}\n            </Div> \n            <Div class='chat-input'>\n              <FormLayout method='post' id='chat-form'>\n                <Textarea type='text' id='message-text' class='chat-form__input' placeholder='Введите сообщение'></Textarea>\n                <Button before={<Icon28Send />} class='chat-form__submit' onClick={this.but} ></Button>\n              </FormLayout>\n\t\t\t\t    </Div>\n          </Group>\n          \n    \n        );\n    }\n    \n\n}\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}